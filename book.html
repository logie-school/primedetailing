<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prime Auto Detailing | Book A Detail</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <meta name="description" content="Get the best mobile car detailing in NSW! We offer professional interior & exterior cleaning, ceramic coating, and full auto detailing services at competitive prices.">
    <meta name="keywords" content="auto detailing, mobile car detailing, car cleaning, ceramic coating, interior detailing, exterior detailing">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Prime Auto Detailing - Professional Car Detailing Services">
    <meta property="og:description" content="Get the best mobile car detailing services at competitive prices. Exterior and interior detailing, ceramic coatings, and more.">
    <meta property="og:url" content="https://primedetailingnsw.com">
    <meta property="og:type" content="website">

    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "LocalBusiness",
          "name": "Prime Auto Detailing",
          "image": "https://primedetailingnsw.com/image.png",
          "url": "https://primedetailingnsw.com",
          "telephone": "+61 406 846 049",
          "openingHours": "Mo-Sa 05:00-17:00",
          "description": "Prime Auto Detailing offers expert mobile car detailing services, specializing in interior and exterior cleaning, ceramic coating, and more."
        }
    </script>

</head>
<body>
    <nav class="navbar">
        <div class="logo">Prime Detailing</div>
        <div class="nav-links">
            <a href="index.html#home">Home</a>
            <a href="index.html#services">Services</a>
            <a href="index.html#pricing">Pricing</a>
            <a href="about.html">About</a>
            <!-- <a href="contact.html">Contact</a> -->
        </div>
        <div class="menu-toggle">
            <i class="fas fa-bars"></i>
        </div>
    </nav>

    <section class="booking-section">
        <div class="booking-card">
            <div class="kys">
            <h2 class="section-title" style="text-align: center; margin-bottom: 2rem;">REACH OUT TO US</h2>
            <form class="booking-form" id="bookingForm">
                <div class="form-row">
                    <div class="input-group">
                        <i class="fas fa-user"></i>
                        <input type="text" class="input-field" placeholder="Full Name" required>
                    </div>
                    
                    <div class="input-group">
                        <i class="fas fa-phone"></i>
                        <input type="tel" class="input-field" placeholder="Phone Number" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="input-group">
                        <i class="fas fa-envelope"></i>
                        <input type="email" class="input-field" placeholder="Email Address" required>
                    </div>
                    
                    <div class="input-group">
                        <i class="fas fa-car"></i>
                        <select class="input-field" required>
                            <option value="">Car Type</option>
                            <option>Sedan</option>
                            <option>SUV</option>
                            <option>Motorcycle</option>
                        </select>
                    </div>
                </div>

                <div class="input-group">
                    <i class="fas fa-list-alt"></i>
                    <select class="input-field" id="tierDropdown" required>
                        <option value="">Select Service</option>
                        <option>Basic Detail ($100)</option>
                        <option>Premium Detail ($200)</option>
                        <option>Ultimate Detail ($250)</option>
                    </select>
                </div>

                <button type="submit" class="cta-button" style="width: 100%; margin-top: 1rem;">
                    <i class="fas fa-check-circle"></i> Send Request
                </button>
            </form>
        </div>
        </div>
    </section>

    <script src="script.js"></script>
    <script>
        document.getElementById('bookingForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Get form values
            const formData = {
                name: document.querySelector('input[placeholder="Full Name"]').value,
                phone: document.querySelector('input[placeholder="Phone Number"]').value,
                email: document.querySelector('input[placeholder="Email Address"]').value,
                carType: document.querySelector('select').value,
                service: document.querySelectorAll('select')[1].value
            };
        
            // Telegram message format
            const message = `üìù New Booking!%0A%0A
        Name: ${formData.name}%0A
        Phone: ${formData.phone}%0A
        Email: ${formData.email}%0A
        Car Type: ${formData.carType}%0A
        Service: ${formData.service}`;
        
            try {
                // Replace with your actual bot token and chat ID
                const botToken = '8050072010:AAGIkC9r_PiOG-KbS1QNKLMvmp04rCA6fMA';
                const chatId = '6036881812';
                
                const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${message}`);
                
                if(response.ok) {
                    this.reset();
                    showConfirmation();
                }
            } catch(error) {
                console.error('Error:', error);
                alert('Error submitting form. Please try again.');
            }
        });
        
        function showConfirmation() {
            const confirmation = document.createElement('div');
            confirmation.innerHTML = `
                <div style="text-align: center; padding: 2rem; background: var(--secondary); border-radius: 8px; margin-top: 2rem;">
                    <i class="fas fa-check-circle" style="font-size: 3rem; color: var(--accent); margin-bottom: 1rem;"></i>
                    <h3>Infomation Received!</h3>
                    <p>We'll contact you shortly</p>
                </div>
            `;
            document.querySelector('.booking-card').appendChild(confirmation);
            document.querySelector(".kys").remove();
        }
        </script>
        <script>
            function getQueryParam(param) {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get(param);
            }

            document.addEventListener("DOMContentLoaded", function () {
                const selectedService = getQueryParam("service");
                const dropdown = document.getElementById("tierDropdown");

                if (dropdown && selectedService) {
                    let serviceMapping = {
                        "basic": "Basic Detail ($100)",
                        "premium": "Premium Detail ($200)",
                        "ultimate": "Ultimate Detail ($250)"
                    };

                    for (let option of dropdown.options) {
                        if (option.textContent.trim() === serviceMapping[selectedService]) {
                            option.selected = true;
                            break;
                        }
                    }
                }
            });
        </script>
</body>
</html>